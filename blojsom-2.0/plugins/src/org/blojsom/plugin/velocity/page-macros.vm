#macro(BlogName)
$BLOJSOM_BLOG.getBlogName()
#end

#macro(EscapedBlogName)
$BLOJSOM_BLOG.getEscapedBlogName()
#end

#macro(BlogDescription)
$BLOJSOM_BLOG.getBlogDescription()
#end

#macro(EscapedBlogDescription)
$BLOJSOM_BLOG.getEscapedBlogDescription()
#end

#macro(BlogURL)
$BLOJSOM_BLOG.getBlogURL()
#end

#macro(BlogAdminURL)
$BLOJSOM_BLOG.getBlogAdminURL()
#end

#macro(BlogBaseURL)
$BLOJSOM_BLOG.getBlogBaseURL()
#end

#macro(BlogLanguage)
$BLOJSOM_BLOG.getBlogLanguage()
#end

#macro(BlogCountry)
$BLOJSOM_BLOG.getBlogCountry()
#end

#macro(BlogOwner)
$BLOJSOM_BLOG.getBlogOwner()
#end

#macro(BlogOwnerEmail)
$BLOJSOM_BLOG.getBlogOwnerEmail()
#end

#macro(BlogDefaultFlavor)
$BLOJSOM_BLOG.getBlogDefaultFlavor()
#end

#macro(SearchBox)
<div id="searchbox">
    <form method="post" action=".">
        <p id="searchlabel"><label for="query">Search:</label></p>
        <p id="searchfield"><input type="text" name="query" value="" /></p>
        <p id="searchimg"><input type="image" src="$BLOJSOM_BLOG.getBlogBaseURL()/search.png" value="submit" alt="Search" /></p>
    </form>
</div>
#end

#macro(TrackbackAutoDiscovery $entry $runFriendlyPermalink)
<!-- Trackback Auto Discovery -->
#if ($runFriendlyPermalink)
    #friendlyPermalink($entry)
#end
#set( $blogDescription = $entry.getEscapedDescription() )
#if ($blogDescription.length() > 255 )
    #set( $ellipses = "..." )
    #set( $blogDescription = "$blogDescription.substring(0,252)$ellipses" )
#end
<!--
    <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
             xmlns:dc="http://purl.org/dc/elements/1.1/"
             xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
        <rdf:Description
             rdf:about="$entryLink"
             dc:identifier="$entryLink"
             dc:title="$entry.getTitle()"
             dc:subject="$BLOJSOM_REQUESTED_CATEGORY.getCategoryURL()"
             dc:description="$blogDescription"
             dc:creator="$BLOJSOM_BLOG.getBlogOwner()"
             dc:date="$entry.getISO8601Date()"
             trackback:ping="$entryLink?tb=y" />
     </rdf:RDF>
-->
#end

#macro(CommentFormWithPreview $entry)
#if ($BLOJSOM_COMMENTS_ENABLED.booleanValue() && $entry.supportsComments())
    <form id="commentform" method="post" action=".">
        <p>
            <input type="hidden" name="comment" value="y" />
            <input type="hidden" name="page" value="comments" />
            <input type="hidden" name="category" value="$BLOJSOM_REQUESTED_CATEGORY.getCategory()" />
            <input type="hidden" name="permalink" value="$entry.getPermalink()" />
        </p>

        <p class="label">Author (<span class="red">*</span>):</p>
        <p class="input"><input type="text" name="author" value="#if ($BLOJSOM_COMMENT_PLUGIN_AUTHOR)$BLOJSOM_COMMENT_PLUGIN_AUTHOR#end" class="fixed" /></p>

        <p class="label">E-mail:</p>
        <p class="input"><input type="text" name="authorEmail" value="#if ($BLOJSOM_COMMENT_PLUGIN_AUTHOR_EMAIL)$BLOJSOM_COMMENT_PLUGIN_AUTHOR_EMAIL#end" class="fixed" /></p>

        <p class="label">URL: </p>
        <p class="input"><input type="text" name="authorURL" value="#if ($BLOJSOM_COMMENT_PLUGIN_AUTHOR_URL)$BLOJSOM_COMMENT_PLUGIN_AUTHOR_URL#end" class="fixed" /></p>

        <p class="label">Comment (<span class="red">*</span>):</p>
        <p class="input"><textarea name="commentText" id="commentText" rows="7" cols="55" onkeyup="reloadPreviewDiv();" class="fixed"></textarea></p>

        <p class="label">&nbsp;</p>
        <p class="input"><input type="checkbox" name="remember" #if ($BLOJSOM_COMMENT_PLUGIN_REMEMBER_ME)checked #end /> Remember me?</p>

        <p />

        <p class="label">&nbsp;</p>
        <p class="input"><input type="submit" name="submit" value="Comment" class="button" /><input type="reset" name="reset" value="Reset" class="button" /></p>
    </form>

    <h3>Live Comment Preview:</h3>
    <div id="commentPreview">&nbsp;</div>
#end