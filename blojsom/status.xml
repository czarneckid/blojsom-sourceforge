<?xml version="1.0"?>
<status>

    <developers>
        <person name="David Czarnecki" email="czarneckid@users.sourceforge.net" id="czarneckid"/>
        <person name="Mark Lussier" email="intabulas@users.sourceforge.net" id="intabulas"/>
        <person name="Nick Chalko" email="nick@chalko.com" id="chalko"/>
    </developers>

    <todo>
        <!-- Add todo items. @context is an arbitrary string. Eg:
        <actions priority="high">
          <action context="code" dev="SN">
          </action>
        </actions>
        <actions priority="medium">
          <action context="docs" dev="open">
          </action>
        </actions>
        -->
    </todo>

    <changes>
        <!-- Add new releases here -->
        <release version="1.9.3" date="July 6, 2003">
            <action dev="czarneckid" type="remove" context="General">
                Added and subsequently removed Blogger 2 API support. Blogger will no longer be supporting the
                Blogger 2 API or even develop Blogger to support the Blogger 2 API in favor of the Echo API
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Added
                <tt>getDateAsFormat(String format)</tt> method to
                <tt>BlogEntry</tt> class
            </action>
            <action dev="czarneckid" type="update" context="Core">
                Fixed blojsom theme and shrubbery theme comment pages to output checked for "remember me" if this has been checked
            </action>

            <action dev="czarneckid" type="update" context="Plugin">
                The date format plugin was changed so that the date format object returned uses the locale that
                is constructed from the blog language set in
                <i>/WEB-INF/blojsom.properties</i>
            </action>

            <action dev="czarneckid" type="fix" context="Plugin" fixes-bug="763640">
                Incorrect compareTo check in setLastReferral method
            </action>
            <action dev="czarneckid" type="fix" context="Plugin" fixes-bug="766160">
                Comment plugin needs to check for author email and URL null
            </action>
        </release>

        <release version="1.9.2" date="June 19, 2003">
            <action dev="czarneckid" type="update" context="Core">
                BlojsomServlet and BlojsomXMLRPCServlet now call the destroy() method on the fetcher in use
            </action>
            <action dev="czarneckid" type="add" context="Plugin">
                Added new Weblogs Ping plugin that will automatically send a ping to weblogs.com when new entries are detected
            </action>

            <action dev="czarneckid" type="fix" fixes-bug="755698" context="Core">
                BlogCategory object on BlogEntry does not have meta-data
            </action>
        </release>

        <release version="1.9.1" date="June 13, 2003">
            <action dev="czarneckid" type="fix" context="General">
                Fixed regular expressions in
                <i>blacklist.filters</i>
            </action>
            <action dev="czarneckid" type="update" context="Core">
                <tt>BlogCategory</tt> is now an abstract class
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Added persistence methods to the
                <tt>BlogCategory</tt> class. This is overridden
                in a concrete implementation like
                <tt>FileBackedBlogCategory</tt> of this class to persist the
                blog category
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Added
                <tt>public BlogCategory newBlogCategory()</tt> method to
                <tt>BlojsomFetcher</tt> interface
            </action>
            <action dev="czarneckid" type="update" context="Core">
                Persistence methods (loadEntry, saveEntry, deleteEntry) have been renamed to load, save, and delete
                on their respective classes to reduce redundance
            </action>

            <action dev="czarneckid" type="add" context="Plugin">
                Added new
                <a href="plugins-dateformat.html">Date Format plugin</a> to allow for configuration of blog date formatting
            </action>
            <action dev="czarneckid" type="update" context="Plugin">
                Added a new base class
                <tt>org.ignition.blojsom.plugin.common.IPBanningPlugin</tt> which the
                Comments and Trackback plugin now subclass from. This base plugin provides the capability to check
                if an IP address is banned or not through its
                <tt>boolean isIPBanned(String ipAddress)</tt> method. Check the
                <a href="upgrading.html">upgrading</a> instructions for information on how to ban IP addresses
            </action>
            <action dev="czarneckid" type="update" context="Plugin">
                Textile code removed and replaced with textile4j.jar
            </action>
            <action dev="czarneckid" type="update" context="Plugin">
                The Textile plugin had a bug when processing qtag's. This was found during the
                <a href="http://sf.net/projects/textile4j">textile4j</a> breakout
            </action>
            <action dev="czarneckid" type="update" context="Plugin">
                The prefix for the Comment and Trackback plugins is configurable via the
                <i>plugin-comment-email-prefix</i> and
                <i>plugin-trackback-email-prefix</i> parameters that can be
                added to
                <i>/WEB-INF/blojsom.properties</i>
            </action>

            <action dev="czarneckid" type="fix" context="General" fixes-bug="752254">
                No meta-data loaded when requesting "/" category
            </action>
        </release>

        <release version="1.4.1" date="March 5, 2003">
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="697993">
                Invalid permalink causes NullPointerException
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="697996">
                Permalink request can be generated for arbitrary files
            </action>
        </release>

        <release version="1.7.1" date="April 12, 2003">
            <action dev="czarneckid" type="update" context="Library">
                Upgraded Velocity from version 1.3 to 1.3.1
            </action>
            <action dev="czarneckid" type="update" context="Library">
                Upgraded log4j from version 1.2.7 to 1.2.8
            </action>
            <action dev="czarneckid" type="update" context="Core">
                <tt>BlojsomServlet</tt> now correctly falls back to
                <i>blojsom-plugin-chain</i> if
                <i>&lt;flavor&gt;.blojsom-plugin-chain</i> is not present in
                <i>plugin.properties</i>
            </action>
            <action dev="czarneckid" type="add" context="General">
                Added "BLOJSOM_DATE_OBJECT" (
                <tt>java.util.Date</tt>) to the context
            </action>
            <action dev="czarneckid" type="update" context="Core">
                <tt>VelocityDispatcher</tt> now calculates "Content-Length" header based on decoding the bytes as UTF-8
            </action>
            <action dev="czarneckid" type="update" context="Core">
                <tt>BlojsomServlet</tt> now explicitly uses "UTF-8" to decode URL parameters
            </action>

            <action dev="czarneckid" type="update" context="Extension">
                Blogger API and MetaWeblog API handlers now use
                <tt>File.separator</tt> when writing
                a post
            </action>
            <action dev="czarneckid" type="update" context="Extension">
                Added implementation of getRecentPosts method for Blogger API support
            </action>

            <action dev="czarneckid" type="update" context="Plugins">
                Changed Referer Log plugin to log each referer at the debug level rather than at the
                info level
            </action>

            <action dev="czarneckid" type="fix" context="Core" fixes-bug="720248">
                blojsom incorrectly handles UTF-8
            </action>
        </release>

        <release version="1.7" date="April 3, 2003">
            <action dev="czarneckid" type="add" context="General">
                Added a new Search image to pretty up the search dialog. Thanks to Mark Pierce of
                <a href="http://www.omnimondo.com">Omnimodo</a> for the image
            </action>
            <action dev="czarneckid" type="update" context="Plugins">
                <a href="plugins-referer.html">Referer plugin</a> has been re-written to allow tracking and totaling by flavor, as well as only showing today's referer's. See the
                <a href="plugins-referer.html">Referer plugin documentation</a> for more detail
            </action>
            <action dev="czarneckid" type="add" context="General">
                Added a referer history page that display's all referer's (grouped by flavor) with no date filtering
            </action>
            <action dev="czarneckid" type="add" context="Plugins">
                New
                <a href="plugins-calendar.html">Calendar plugin</a> that renders a visual calendar into your blog, hyperlinking dates that have entries
            </action>
            <action dev="czarneckid" type="update" context="Plugins">
                Calendar navigation code has moved to the new Calendar Filter plugin. If you want to continue to have calendar url navigation on your blog, please be sure to add this plugin to the start of your flavor plugin chain
            </action>
            <action dev="czarneckid" type="add" context="General">
                New alternate theme for blojsom called 'SecondWave'. See
                <a href="themes.html">themes</a> on how to install and configure this new theme
            </action>
            <action dev="czarneckid" type="update" context="General">
                New search input form in the HTML template to allow users to search your blog entries. This is simply a front end to the Simple Search plugin
            </action>
            <action dev="czarneckid" type="update" context="Core">
                Changed the
                <tt>BlojsomPlugin.process()</tt> method to also accept the
                <tt>HttpServletResponse</tt> to allow for plugins to manipulate things like cookies
            </action>
            <action dev="czarneckid" type="add" context="Plugins">
                Added the Send Email plugin that allows other plugins to send email messages
            </action>
            <action dev="czarneckid" type="update" context="Plugins">
                Updated the Comments plugin to send email to the blog author when new comments are added
            </action>
            <action dev="czarneckid" type="update" context="Plugins">
                Updated the comments template to fill in information if user checks "Remember Me"
            </action>
            <action dev="czarneckid" type="update" context="Plugins">
                Updated the Comments plugin to check for "http://" at the start of the comment author's URL (if provided)
            </action>
            <action dev="czarneckid" type="update" context="Plugins">
                Updated the Trackback plugin to send email to the blog author when new trackbacks are received
            </action>
            <action dev="czarneckid" type="update" context="Core">
                Fixed permalink filenames to be URL encoded
            </action>
            <action dev="czarneckid" type="update" context="Core">
                Fixed issue with not being able to determine entry title under Windows
            </action>
            <action dev="czarneckid" type="update" context="Core">
                Fixed directory (e.g. comment and trackback directories) filtering issues under Windows
            </action>
            <action dev="czarneckid" type="update" context="General">
                Miscellaneous tweaks to the default CSS
            </action>
            <action dev="czarneckid" type="update" context="General">
                Changed
                <i>plugin.properties</i> to reference the most commonly used plugins
            </action>

            <action dev="czarneckid" type="fix" context="Plugins" fixes-bug="709728">
                Malicious HTML code can be posted into comments and trackbacks
            </action>
            <action dev="czarneckid" type="fix" context="Plugins" fixes-bug="711870">
                Certain characters break HyperlinkURL plugin
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="712838">
                blog-url context cannot be /blog/
            </action>
        </release>

        <release version="1.6.1" date="March 24, 2003">
            <action dev="czarneckid" type="update" context="Core">
                Fixed issue with destroying plugins in
                <tt>BlojsomServlet</tt> when the servlet is taken out of service
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="708943">
                blojsom not rendering comments
            </action>
        </release>

        <release version="1.6" date="March 24, 2003">
            <action dev="czarneckid" type="add" context="Plugin">
                Added
                <tt>Map context</tt> parameter to the
                <tt>process</tt> method for the
                <tt>BlojsomPlugin</tt>
                interface. This will allow developers to add objects to the context for use in their
                templates
            </action>
            <action dev="czarneckid" type="add" context="Plugin">
                Added
                <tt>destroy()</tt> method to the
                <tt>BlojsomPlugin</tt> interface. This will allow
                developers to perform any finalization or cleanup activities of the plugin. Note that
                this method differs from the
                <tt>cleanup()</tt> method in that it is only called when
                <tt>BlojsomServlet</tt> is taken out of service by the servlet container. The
                <tt>cleanup</tt>
                method is called each plugin request after the plugin's
                <tt>process</tt> method is called
            </action>
            <action dev="czarneckid" type="update" context="General">
                <font color="red">NOTE:</font> "BLOJSOM_*" is a reserved namespace for the context
            </action>
            <action dev="czarneckid" type="add" context="General">
                Added "BLOJSOM_DATE_ISO8601" to the context
            </action>
            <action dev="czarneckid" type="update" context="General">
                Modified RDF flavor templates to correctly use the ISO 8601 date format
            </action>
            <action dev="czarneckid" type="update" context="General">
                Clarified "BLOJSOM_DATE" and "BLOJSOM_DATE_IS8601" to be of type
                <tt>java.lang.String</tt> in
                <a href="customization.html">customization</a>
            </action>
            <action dev="czarneckid" type="add" context="Plugins">
                Added Emoticons plugin
            </action>
            <action dev="czarneckid" type="update" context="Plugins">
                Added code to the plugins that take configuration parameters to throw a
                <tt>BlojsomPluginException</tt> in
                <tt>init()</tt> if the required configuration
                parameter is not present
            </action>
            <action dev="czarneckid" type="update" context="General">
                Changed
                <i>blojsom.css</i> to reduce the spacing between blog entries
            </action>
            <action dev="czarneckid" type="update" context="General">
                Velocity templates can now be found in
                <i>/WEB-INF/classes</i>. They are no longer
                built and bundled as
                <i>/WEB-INF/lib/blojsom-templates.jar</i> since that way was not amenable to
                editing and customizing the templates by end users
            </action>
            <action dev="czarneckid" type="update" context="Core">
                Added
                <tt>setComments</tt> method to
                <tt>BlogEntry</tt> class so that plugins can
                manipulate blog entry comments
            </action>
            <action dev="czarneckid" type="add" context="Plugins">
                Trackback support added. See the
                <a href="trackbacks.html">trackbacks</a> documentation for more
                information on Trackback support in blojsom
            </action>
            <action dev="czarneckid" type="update" context="General">
                <font color="red">NOTE:</font> You will need to add one parameter,
                <i>blog-trackbacks-directory</i>
                to your
                <i>blojsom.properties</i> file if you are upgrading from a
                previous version of blojsom. For example, you would add the following line to your
                <i>blojsom.properties</i> file:
                <pre>
                    blog-trackbacks-directory=.trackbacks
                </pre>
            </action>
            <action dev="czarneckid" type="update" context="Plugins">
                Added "entries" URL parameter to override the number of entries displayed on a page.
                <i>entries=&lt;-1 or integer greater than 0&gt;</i>. This parameter is listed with the
                other URL parameters accepted by blojsom in the
                <a href="installation.html">installation</a>
                documentation
            </action>
            <action dev="czarneckid" type="update" context="Plugins">
                Refactored comment handling to the Comment plugin
            </action>

            <action dev="czarneckid" type="fix" context="Plugins" fixes-bug="704184">
                Calender access doesn't work on sub-categories
            </action>
            <action dev="czarneckid" type="fix" context="Plugins" fixes-bug="704356">
                Fix for Calendar date access
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="706029">
                Wrong number of entries displayed for categories
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="707310">
                Blog category cannot have same name as servlet mapping
            </action>
        </release>

        <release version="1.5" date="March 13, 2003">
            <action dev="czarneckid" type="add" context="General">
                Added a text flavor.
                <i>flavor=text</i>
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Added support for comments. See the
                <a href="comments.html">comments</a> document for more information on configuring comments
            </action>
            <action dev="czarneckid" type="update" context="General">
                <font color="red">NOTE:</font> You will need to add two parameters,
                <i>blog-comments-enabled</i>
                and
                <i>blog-comments-directory</i> to your
                <i>blojsom.properties</i> file if you are upgrading from a
                previous version of blojsom. For example, you would add the following two lines to your
                <i>blojsom.properties</i> file:
                <pre>
                    blog-comments-enabled=true
                    blog-comments-directory=.comments
                </pre>
            </action>
            <action dev="czarneckid" type="add" context="General">
                Added "BLOJSOM_COMMENTS_ENABLED" (see
                <a href="customization.html">customization</a>) as
                a request attribute to indicate whether or not comments are enabled for this blog
            </action>
            <action dev="czarneckid" type="update" context="Core">
                Enhanced security of permalinks such that only permalinks matching one of the
                <i>blog-file-extensions</i> will be returned
            </action>
            <action dev="czarneckid" type="update" context="Core">
                Methods on
                <tt>Blog</tt> that returned
                <tt>BlogEntry[]</tt> now return
                <tt>BlogEntry[0]</tt>
                in the cases where the method would return
                <tt>null</tt>
            </action>
            <action dev="czarneckid" type="add" context="Extensions">
                XML-RPC Handler supporting a subset of the
                <a href="http://www.xmlrpc.com/metaWeblogApi">metaWeblog API</a>
            </action>
            <action dev="czarneckid" type="add" context="Plugins">
                Added "Referer Log" plugin
            </action>
            <action dev="czarneckid" type="remove" context="Library">
                Removed Xerces XML parser as Java 1.4.x already contains an XML parser
            </action>

            <action dev="czarneckid" type="fix" context="Plugins" fixes-bug="698768">
                Adding Comments does not render comments after post
            </action>
        </release>

        <release version="1.4" date="March 2, 2003">
            <action dev="czarneckid" type="update" context="General">
                "BLOG_SITE_URL" no longer contains a trailing "/"
            </action>
            <action dev="czarneckid" type="add" context="Extension">
                <a href="xmlrpc.html">XML-RPC Interface</a> (Additional Servlet) supporting a subset of the
                <a href="http://plant.blogger.com/api/index.html">Blogger API</a>
            </action>
            <action dev="czarneckid" type="add" context="Plugin">
                Initial
                <a href="plugins.html">Plugin API</a> for blojsom
            </action>

            <action dev="czarneckid" type="fix" context="Core" fixes-bug="692640">
                Servlet context name same as url-mapping makes invalid URL
            </action>
            <action dev="czarneckid" type="fix" context="Plugin" fixes-bug="693281">
                plugin chain does not report errors
            </action>
        </release>

        <release version="1.3" date="February 23, 2003">
            <action dev="czarneckid" type="add" context="Core">
                blojsom now requires Java 1.4.x as it now uses some of the Java 1.4 regular expression support
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Added the blojsom
                <i>favicon.ico</i> file and references in the html JSP and Velocity templates
            </action>
            <action dev="czarneckid" type="update" context="Core">
                <i>main.css</i> was renamed to
                <i>blojsom.css</i> to avoid potential conflicts with existing style sheets
            </action>
            <action dev="czarneckid" type="update" context="Core">
                <i>dispatcher-map.properties</i> was changed to
                <i>dispatcher.properties</i>
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Added
                <tt>Blog(Properties blogConfiguration)</tt> to the
                <tt>Blog</tt> class and removed previous
                <tt>Blog</tt> constructor
            </action>
            <action dev="czarneckid" type="remove" context="Core">
                Removed intermediate category output in html JSP template
            </action>
            <action dev="czarneckid" type="update" context="Core">
                <i>blog-file-extensions</i> now takes a comma-separated list of regular expressions, rather than simply file extensions
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Added
                <i>blog-directory-filter</i> to
                <i>blojsom.properties</i>, which takes a comma-separated list of regular expressions for directories to filter when generating the category list
            </action>
            <action dev="czarneckid" type="fix" context="Core">
                Correctly placed requested category
                <tt>BlogCategory</tt> object on the context
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Powered-by logo is now href'd to http://blojsom.sf.net
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Images for RSS 0.92 and RSS 2.0 added with hrefs to the RSS feed for the current category
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Each flavor has a &lt;link/&gt; tag for RSS harvesters
            </action>
            <action dev="czarneckid" type="add" context="Core">
                blojsom can now generate RSS 2 feeds.
                <i>flavor=rss2</i>
            </action>
            <action dev="czarneckid" type="add" context="Core">
                blojsom can now generate RDF feeds.
                <i>flavor=rdf</i>
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Last-Modified header is now generated based on the most recent blog entry
            </action>
            <action dev="czarneckid" type="update" context="Core">
                Correctly loaded meta-data for categories that get placed on the request (the categories list and the requested category)
            </action>
            <action dev="czarneckid" type="add" context="Core">
                Added
                <i>blog-owner</i> and
                <i>blog-owner-email</i> to blojsom.properties
            </action>

            <action dev="czarneckid" type="fix" context="Core" fixes-bug="689070">
                ClassCastException in rss.jsp
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="691221">
                All URIs need trailing /
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="691325">
                Available Category Links show twice on empty category
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="691686">
                RSS Flavors not setting Content-Length Header
            </action>

            <action dev="czarneckid" type="rfe" context="Core">
                RFE 684341: blog-file-extensions -> blog-file-name-pattern
            </action>
            <action dev="czarneckid" type="rfe" context="Core">
                Needs personalization support in blojsom.properties
            </action>
        </release>

        <release version="1.2" date="February 17, 2003">
            <action dev="czarneckid" type="remove" context="Core">
                The in-memory blog cache was removed entirely. blojsom does not cache any of the blog entries
                in memory anymore. It was the cause of much frustration trying to keep the in-memory cache
                synchronized with the filesystem. It was certainly a "feature" that was contrary to the original
                zen and philosophy of blosxom
            </action>
            <action dev="czarneckid" type="remove" context="Core">
                <i>blog-reload-check</i> was removed from
                <i>blojsom.properties</i> as there is no longer any more caching of blog entries in-memory
            </action>
            <action dev="czarneckid" type="add" context="Core">
                <i>blog-entries-display</i> was added to
                <i>blojsom.properties</i> to limit the number of blog entries displayed per category or aggregated when requesting the default or "/" category
            </action>
            <action dev="czarneckid" type="add" context="Core">
                <i>blog-default-category-mapping</i> was added to
                <i>blojsom.properties</i> to specify all (by leaving the parameter blank) or a subset (see
                <a href="customization.html">customization</a>) of your blog directories that should be aggregated when requesting the default or "/" category
            </action>

            <action dev="czarneckid" type="fix" context="Core" fixes-bug="684666">
                whitespace lost due to readline
            </action>
        </release>

        <release version="1.1" date="February 10, 2003">
            <action dev="czarneckid" type="update" context="General">
                blojsom configuration parameters were moved from
                <i>/WEB-INF/web.xml</i> to
                <i>/WEB-INF/blojsom.properties</i>. This allows other projects such as
                <a href="http://sourceforge.net/projects/blojsim">blojsim</a> to share blojsom configuration information
            </action>
            <action dev="czarneckid" type="update" context="General">
                All of the blog-related functionality (e.g. building the blog entry map, looking up blog entries for a category, etc...) has been refactored into the Blog class. BlojsomServlet is now only concerned with processing requests for the blog
            </action>
            <action dev="czarneckid" type="add" context="General">
                A per-category meta-data facility was added. This functionality is described in the
                <a href="customization.html">customization</a> documentation
            </action>
            <action dev="czarneckid" type="add" context="General">
                Calendar-based navigation is now supported in blojsom. This means that users can add "year=YYYY", "month="MM", and "day=DD" parameters when requesting entries per blog category to see entries that fall under a particular date range. The year must be provided, but a user can narrow down the list of entries by providing a month and a day
            </action>
            <action dev="czarneckid" type="add" context="General">
                Added "powered by" logo to the HTML flavor templates (JSP and Velocity)
            </action>

            <action dev="czarneckid" type="fix" context="Core" fixes-bug="681271">
                No trailing slash in blog dir hoses category (URI) generation
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="681964">
                @see BUG 681271
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="681969">
                URLs in RSS
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="682445">
                JDK 1.4
            </action>
            <action dev="czarneckid" type="fix" context="Core" fixes-bug="684190">
                Entry Titles with &amp;'s
            </action>

            <action dev="czarneckid" type="rfe" context="Core">
                RFE 682499: blojsom is now built to blojsom-core.jar and placed in WEB-INF/lib
            </action>
        </release>

        <release version="1.0" date="February 2, 2003">
            <action dev="czarneckid" type="add" context="General">
                Initial release of blojsom
            </action>
        </release>
    </changes>
</status>
